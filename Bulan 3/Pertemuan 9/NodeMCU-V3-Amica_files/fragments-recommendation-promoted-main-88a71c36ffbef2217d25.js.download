(window.elysiumJsonp=window.elysiumJsonp||[]).push([[28],{"+zKC":function(n,e,t){"use strict";var r=t("UvpU"),o=t("7DtO");e.a=function(n){!function(n){n.component("TempVar",{name:"TempVar",props:{vars:{type:Object,default:function(){return{}}}},render:function(){return this.$scopedSlots.default(this.vars)}})}(n),function(n){n.filter("delimiter",r.delimiter)}(n),Object(o.a)(n)}},"0xUE":function(n,e,t){"use strict";var r=t("o0o1"),o=t.n(r),a=t("yXPU"),i=t.n(a);e.a={sendAggregate:function(){var n=arguments,e=this;return i()(o.a.mark((function t(){var r,a,i,u,c,s,d,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:{},a=r.data,i=void 0===a?{}:a,u=r.queryParams,c=void 0===u?{}:u,s=r.headers,d=void 0===s?{}:s,t.next=3,e.post("/aggregate","public",{data:i,queryParams:c,headers:d});case 3:return l=t.sent,t.abrupt("return",l);case 5:case"end":return t.stop()}}),t)})))()}}},5:function(n,e,t){n.exports=t("R2US")},"7DtO":function(n,e,t){"use strict";(function(n){var r=t("HZrR"),o=t("u/RZ");e.a=function(e){e.mixin({data:function(){return{mxBukamallLogo:"https://s1.bukalapak.com/pavilion/1587095550468/original/bukamall-logo.png"}},computed:{},methods:{scoreMetricHandler:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.experiment,t=n.metric,r=n.userId,a=n.value,i=void 0===a?1:a,u=n.sync,c=void 0!==u&&u;try{return Object(o.a)({experiment:e,userId:r,metric:t,value:i,sync:c}).catch((function(n){console.error("ERROR on scoring metric: ",n.message)}))}catch(n){return Promise.reject(n)}},$isLogin:function(){return n.USER&&n.USER.id},$resizeImage:r.b}})}}).call(this,t("yLpj"))},HZrR:function(n,e,t){"use strict";t.d(e,"b",(function(){return r})),t.d(e,"a",(function(){return o}));var r=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium",t=/\/(original|large|normal|medium|small|thumb|(w|s)(-\d+){1,2})\//;return n.replace(t,"/".concat(e,"/"))},o=function(){var n;if("undefined"==typeof window)return!1;var e=document.createElement("canvas");return!(null===(n=e.getContext)||void 0===n||!n.call(e,"2d"))&&0===e.toDataURL("image/webp").indexOf("data:image/webp")}},R2US:function(n,e,t){"use strict";t.r(e);var r,o=t("+zKC"),a=t("RqI6").a,i=t("KHd+"),u=Object(i.a)(a,(function(){var n=this.$createElement,e=this._self._c||n;return this.collection.length>0||this.isLoading?e("section",{staticClass:"section"},[e("bl-product-scroller-ov",{staticClass:"u-pad-top--4",attrs:{title:"Pilihan Lain Untukmu","impression-name":"sem_track_related",collection:this.collection,"is-loading":this.isLoading,"impression-tracker-data":this.impressionTrackerData},on:{productClick:this.handleProductClick}})],1):this._e()}),[],!1,null,null,null).exports,c=window.Vue;Object(o.a)(c);new IntersectionObserver((function(n){var e,t,o,a;n[0].isIntersecting&&(e=document.querySelector("#product-recommendation-other"),t=e&&e.dataset||{},o=t.productId,a=t.referrer,r&&r.$destroy(),o&&(r=new c({el:"#product-recommendation-other",name:"ProductRecoRoot",render:function(n){return n(u,{props:{productId:Number(o),referrerPage:a}})}})))})).observe(document.querySelector("#product-recommendation-other"))},RqI6:function(n,e,t){"use strict";(function(n){var r=t("o0o1"),o=t.n(r),a=t("yXPU"),i=t.n(a),u=t("gwaM");e.a={name:"ProductRecoPromoted",components:{BlProductScrollerOv:function(){return Promise.all([t.e(0),t.e(1),t.e(7),t.e(8),t.e(19)]).then(t.bind(null,"SMuj"))}},props:{productId:{type:Number,default:0},referrerPage:{type:String,default:""}},data:function(){return{currentProduct:this.productId,isLoading:!1,collection:[]}},computed:{productIdBase36:function(){return this.currentProduct.toString(36)},userId36:function(){return n.USER&&n.USER.id36||n.blGlobal&&n.blGlobal.user&&n.blGlobal.user.id_36||""},impressionTrackerData:function(){return{product_id_source:this.productIdBase36,evn:"viewed_promoted_product",section:"desktop product other reco",ui:this.userId36}}},mounted:function(){var e=this;this.fetchCollection(),n.pdpEventBus&&["changeProduct","popChangeProduct"].forEach((function(t){n.pdpEventBus.subscribe(t,e.handleChangeProduct)}))},beforeDestroy:function(){var e=this;n.pdpEventBus&&["changeProduct","popChangeProduct"].forEach((function(t){n.pdpEventBus.unsubscribe(t,e.handleChangeProduct)}))},methods:{fetchCollection:function(){var n=this;return i()(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.isLoading=!0,e.next=4,u.e.retrieveProductRecommendationsWithoutSubtitleInfo({queryParams:{product_id:n.productIdBase36,limit:18,strategy:"prom",referrer_page:n.referrerPage}});case 4:t=e.sent,(r=t.data).length>=6&&(n.collection=r.map((function(n){return n.product}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.prev=11,n.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,9,11,14]])})))()},charge:function(e){u.n.$charge.chargeProductSPromotedPush(e.id,{data:{section:"desktop product other reco"},headers:{"X-Identity":n.IDENTITY}})},handleProductClick:function(n){this.charge(n)},handleChangeProduct:function(n){this.currentProduct=parseInt(n.detail.product.id,36),this.fetchCollection()}}}}).call(this,t("yLpj"))},gwaM:function(n,e,t){"use strict";(function(n){t.d(e,"c",(function(){return H})),t.d(e,"a",(function(){return J})),t.d(e,"b",(function(){return Q})),t.d(e,"d",(function(){return Z})),t.d(e,"e",(function(){return X})),t.d(e,"f",(function(){return W})),t.d(e,"g",(function(){return F})),t.d(e,"p",(function(){return Y})),t.d(e,"o",(function(){return nn})),t.d(e,"i",(function(){return en})),t.d(e,"k",(function(){return tn})),t.d(e,"j",(function(){return rn})),t.d(e,"l",(function(){return on})),t.d(e,"m",(function(){return an})),t.d(e,"n",(function(){return un})),t.d(e,"s",(function(){return cn})),t.d(e,"t",(function(){return sn})),t.d(e,"u",(function(){return dn})),t.d(e,"h",(function(){return ln})),t.d(e,"r",(function(){return fn})),t.d(e,"q",(function(){return pn}));var r=t("xqbU"),o=t.n(r),a=t("Cghm"),i=t.n(a),u=t("aAEn"),c=t.n(u),s=t("KtWD"),d=t.n(s),l=t("Hl5s"),f=t.n(l),p=t("NCNE"),m=t.n(p),h=t("xW/G"),v=t.n(h),g=t("ZVIn"),w=t.n(g),b=t("ps8e"),P=t.n(b),y=t("N3K+"),I=t.n(y),x=t("7dUn"),R=t.n(x),E=t("A1fK"),L=t.n(E),C=t("goL4"),U=t.n(C),k=t("MqTz"),S=t.n(k),j=t("/siy"),q=t.n(j),B=t("BCrE"),O=t.n(B),_=t("SXBO"),D=t.n(_),M=t("VfLD"),A=t.n(M),T=t("LDB4"),$=t.n(T),z=t("aQg4"),K=t.n(z),N=t("rJQ2"),V=t("0xUE"),G=n.API&&n.API.wrap,H=G?G(V.a):{},J=new o.a(N.a),Q=new i.a(N.a),Z=new c.a(N.a),X=new d.a(N.a),W=new f.a(N.a),F=new m.a(N.a),Y=new L.a(N.a),nn=new U.a(N.a),en=new D.a(N.a),tn=new v.a(N.a),rn=new w.a(N.a),on=new P.a(N.a),an=new I.a(N.a),un=new R.a(N.a),cn=new S.a(N.a),sn=new q.a(N.a),dn=new O.a(N.a),ln=new A.a(N.a),fn=new $.a(N.a),pn=new K.a(N.a)}).call(this,t("yLpj"))},lzUb:function(n,e,t){"use strict";t.d(e,"a",(function(){return c})),t.d(e,"b",(function(){return s}));var r=t("GIqo"),o=t.n(r),a=t("VfLD"),i=t.n(a),u=t("rJQ2"),c=new o.a(u.a),s=new i.a(u.a)},rJQ2:function(n,e,t){"use strict";(function(n){var r=t("Bo+M"),o=t.n(r),a=n.API&&n.API.requestManagerProxy&&n.API.requestManagerProxy("elysium"),i=new o.a(a);e.a=i}).call(this,t("yLpj"))},"u/RZ":function(n,e,t){"use strict";(function(n){t.d(e,"a",(function(){return i}));var r=t("QILm"),o=t.n(r),a=t("lzUb"),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.experiment,r=e.userId,i=void 0===r?n.USER.id:r,u=o()(e,["experiment","userId"]);if(i){if(!t||!u.metric||!u.value)throw new Error("Required experiment's name, metric and value");var c={metric:u.metric,value:u.value};return a.a.$participants.$metrics.scoreTheMetrics(t,i,{data:c})}return Promise.resolve()}}).call(this,t("yLpj"))},yLpj:function(n,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"==typeof window&&(t=window)}n.exports=t},zr5I:function(n,e){n.exports=axios}},[[5,2,0,1,3,4,5]]]);
//# sourceMappingURL=fragments-recommendation-promoted-main-88a71c36ffbef2217d25.js.map